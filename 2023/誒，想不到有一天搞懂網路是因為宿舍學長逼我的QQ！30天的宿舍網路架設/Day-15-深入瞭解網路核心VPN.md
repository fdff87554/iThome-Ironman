# Day-15 - 深入瞭解 VPN 核心，從是什麼開始的 VPN 之旅

雖然我們前面已經算是完整的介紹過網路的各種資訊了，但我們今天在嘗試看看利用網路架構圖還有各種說明，來更加認識什麼是 VPN 吧？並且再來聊聊今天他是不是會是網路環境中脆弱的一環。

## 什麼是 VPN 呢？

雖然前面聊過了，但我們再來仔細聊聊到底什麼是 VPN。VPN 的全名是 Virtual Private Network，也就是虛擬私人網路，簡單來說他是一種讓使用者可以不需特別的設定與設備，就直接透過公共網路來建立安全且加密的連線的方法，那很多人這個時候會說這樣能使資料傳輸更安全，但究竟是安全在哪裡？

我個人覺得再往下聊 VPN 之前，我們要先界定 VPN 可以做到的事情，還有說明跟討論針對這個目的 VPN 提供了怎樣的服務。

### VPN 的功能

簡單來說，在 VPN 的世界裡面會有兩個核心人物，一個是 VPN Server 一個是連線 VPN Server 的一般用戶。VPN 主要由兩個核心技術在運作，分別是

1. 加密技術
2. 隧道協定

其中很多人提到網路活對被加密之類的名詞就是由加密技術所維護的，但不是什麼有的沒有的都被加密，而是使用者到 VPN Server 這個過程中被加密，但並沒有加密其他的例如**直接從使用者的設備出去的連線** or **到 VPN Server 之後的網路連線**。因此 VPN 加密所保護的是使用者與 VPN Server 的互動。

另外一個部分就是，為什麼我們這些使用者可以與特定的 VPN Server 做互動，則是使用隧道協定（或又叫作穿隧協議，Tunneling Protocol），他是一種將其他網路協定封裝在自己的身上的一種技術，可以做到將網路狀態不相容的狀況下傳輸資料，又或者在不安全的網路上提供一個安全路徑的解決方案。

那這兩個技術的配合奠定了 VPN 最重要的功能，也就是為兩個設備之間建立安全穩定的通道，確保在這個過程中的連線資訊不被外人所解析。

但也正因此，回到 VPN 最重要的角色，其實是守護 Client 與 VPN Server 這個過程而已，因此在功能上最大的差異在於

1. 我們今天是希望利用 VPN 來安全的連線到特定設備或者特定環境。
2. 今天是希望利用 VPN Server 的來變換身份跟網路世界做互動。

### 為何會說 VPN 可以切換身份還有掩護 IP 呢？

一般來說當我們連線到 VPN Server 後，我們的設備跟 VPN Server 完成加密連線。而在這個連線之後，我們可以規定我們設備與網路世界的互動通通要先送往 VPN Server 後再由 VPN Server 對外，這時候我們的 Public IP 就會被 VPN 的 Public IP 所取代，這也代表著當我們訪問任何網站或使用任何線上服務時，它們看到的 IP 地址將是 VPN 伺服器的地址，而不是我們的真實地址。也正是如此，我們在網路世界上的身份被取代了，其他人會認為我們就是那台 VPN Server，從而做到例如切換國家設備等等多種功能，還有隱藏我們的真實身份。

那這邊你會問說，尼看看尼看看，網路上一堆可以購買的 VPN 服務不好嗎？為啥要那麼麻煩的自己架設勒？讓我們看看為什麼會有自己架設的 VPN Server 的狀況發生？

### 商用 VPN 與自架 VPN 的差異

一般來說，最大的差異在於用途，當我們今天嘗試購買方用 VPN 服務做使用時，往往目的是在於切換在網路上的身份，但往往公司、機構或者像我這樣內網的 VPN 架設，都是為了與內網互動而非純粹的希望改變身份而已。

另外當然不管是

1. 建置難度
2. 伺服器本身的位置
3. 成本

等等也都不是同一個量級跟狀況，因此究竟今天是又購買衝浪鯊魚之類的有的沒有的 VPN 服務還是自行準備，我認為核心重點在於希望做到什麼事情？

但這邊也回到另外一個更重要的問題，那就是**商用 VPN 是否真的能掩蓋我們的足跡？**

### 商用 VPN 是否真的能掩蓋我們的足跡？

大部分的商用 VPN 都聲稱他們不會記錄用戶的活動，但這完全取決於該 VPN 供應商的政策。理論上，如果 VPN 供應商不記錄任何日誌，則外部攻擊者或政府機關很難追踪到用戶的活動。但是，如果 VPN 供應商選擇合作或被迫提供資料，那麼用戶的隱私可能會受到威脅。

## 小結

VPN 是一個連線工具，我認為其核心概念從來就不是為了切換身份，而是用安全的方式與一個較為敏感的環境做互動的一種做法，他提供了一種穩健、安全、隱密的資料傳輸方法，確保當資料在外部傳輸的過程中就算被攔截也無法被隨意竄敢或者替換，也正因此較為敏感的環境至少能確認今天與之互動的設備是否是可信賴的。但到這邊大家應該也發現了一些重點，那就是假如 VPN 連線本身已經是安全的，攻擊者無法針對此作攻擊，其實也不代表 VPN Client 或者 Server 的網路設定就不會有其他問題，因此明天我們來聊聊怎麼切分網路環境，來討論一下就算是 VPN 也會遇到的問題吧！
